{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yusui/GitHub/Mono/site/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yusui/GitHub/Mono/site/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/web.timers.js\";\nimport CardPage from '@/components/Card.vue';\nimport TitlePage from '@/components/Title.vue';\nimport { works } from '@/data/works';\nimport { masonryMixin } from '@/assets/scripts/masonry.js';\nexport default {\n  name: 'WorksPage',\n  components: {\n    CardPage: CardPage,\n    TitlePage: TitlePage\n  },\n  mixins: [masonryMixin],\n  data: function data() {\n    return {\n      categories: [{\n        value: 'product',\n        label: 'Product'\n      }, {\n        value: 'poster',\n        label: 'Poster'\n      }, {\n        value: 'logo',\n        label: 'Logo'\n      }, {\n        value: 'photo',\n        label: 'Photo'\n      }, {\n        value: 'modeling',\n        label: 'Modeling'\n      }, {\n        value: 'drawing',\n        label: 'Drawing'\n      }, {\n        value: 'art',\n        label: 'Art'\n      }, {\n        value: 'other',\n        label: 'Other'\n      }],\n      works: works,\n      lightbox: null\n    };\n  },\n  computed: {\n    selectedCategory: {\n      get: function get() {\n        return this.$route.query.category || 'product';\n      },\n      set: function set(value) {\n        this.$router.replace({\n          query: {\n            category: value\n          }\n        });\n      }\n    },\n    filteredWorks: function filteredWorks() {\n      var _this = this;\n      return this.works.filter(function (work) {\n        return work.categories.includes(_this.selectedCategory);\n      });\n    }\n  },\n  methods: {\n    initLightbox: function initLightbox() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var link;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              // 既存のインスタンスを破棄\n              if (_this2.lightbox) {\n                _this2.lightbox.destroy();\n              }\n\n              // GLightboxのCSSを追加\n              if (!document.querySelector('link[href*=\"glightbox\"]')) {\n                link = document.createElement('link');\n                link.rel = 'stylesheet';\n                link.href = 'https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css';\n                document.head.appendChild(link);\n              }\n\n              // GLightboxのJSを読み込み\n              if (window.GLightbox) {\n                _context.next = 5;\n                break;\n              }\n              _context.next = 5;\n              return new Promise(function (resolve) {\n                var script = document.createElement('script');\n                script.src = 'https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js';\n                script.onload = resolve;\n                document.head.appendChild(script);\n              });\n            case 5:\n              _context.next = 7;\n              return new Promise(function (resolve) {\n                setTimeout(function () {\n                  _this2.lightbox = window.GLightbox({\n                    selector: '.glightbox',\n                    touchNavigation: true,\n                    loop: true,\n                    width: '90vw',\n                    height: '90vh',\n                    zoomable: false,\n                    draggable: false,\n                    autoplayVideos: true,\n                    closeButton: true,\n                    navigation: true,\n                    preload: true\n                  });\n                  resolve();\n                }, 100);\n              });\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _this3.$nextTick();\n          case 2:\n            _context2.next = 4;\n            return _this3.initLightbox();\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  },\n  activated: function activated() {\n    var _this4 = this;\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _this4.$nextTick();\n          case 2:\n            _context3.next = 4;\n            return _this4.initLightbox();\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }))();\n  },\n  beforeUnmount: function beforeUnmount() {\n    if (this.lightbox) {\n      this.lightbox.destroy();\n      this.lightbox = null;\n    }\n  }\n};","map":{"version":3,"names":["CardPage","TitlePage","works","masonryMixin","name","components","mixins","data","categories","value","label","lightbox","computed","selectedCategory","get","$route","query","category","set","$router","replace","filteredWorks","_this","filter","work","includes","methods","initLightbox","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","link","wrap","_callee$","_context","prev","next","destroy","document","querySelector","createElement","rel","href","head","appendChild","window","GLightbox","Promise","resolve","script","src","onload","setTimeout","selector","touchNavigation","loop","width","height","zoomable","draggable","autoplayVideos","closeButton","navigation","preload","stop","mounted","_this3","_callee2","_callee2$","_context2","$nextTick","activated","_this4","_callee3","_callee3$","_context3","beforeUnmount"],"sources":["/Users/yusui/GitHub/Mono/site/src/views/Works.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <TitlePage\n      title=\"Works\"\n      description=\"作品集\"\n    />\n\n    <div class=\"category-selecter\">\n      <button \n        v-for=\"cat in categories\" \n        :key=\"cat.value\"\n        :class=\"{ active: selectedCategory === cat.value }\"\n        @click=\"selectedCategory = cat.value\"\n      >\n        {{ cat.label }}\n      </button>\n    </div>\n\n    <div id=\"grid\">\n      <div class=\"grid-sizer\"></div>\n      <div class=\"gutter-sizer\"></div>\n      <CardPage\n        v-for=\"work in filteredWorks\"\n        :key=\"work.id\"\n        :id=\"work.id\"\n        :title=\"work.title\"\n        :image=\"work.image\"\n        :year=\"work.year\"\n        :categories=\"work.categories\"\n        :content=\"work.content\"\n        class=\"grid-item\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport CardPage from '@/components/Card.vue';\nimport TitlePage from '@/components/Title.vue';\nimport { works } from '@/data/works';\nimport { masonryMixin } from '@/assets/scripts/masonry.js';\n\nexport default {\n  name: 'WorksPage',\n  components: {\n    CardPage,\n    TitlePage\n  },\n  mixins: [masonryMixin],\n  data() {\n    return {\n      categories: [\n        { value: 'product', label: 'Product' },\n        { value: 'poster', label: 'Poster' },\n        { value: 'logo', label: 'Logo' },\n        { value: 'photo', label: 'Photo' },\n        { value: 'modeling', label: 'Modeling' },\n        { value: 'drawing', label: 'Drawing' },\n        { value: 'art', label: 'Art' },\n        { value: 'other', label: 'Other' }\n      ],\n      works,\n      lightbox: null\n    };\n  },\n  computed: {\n    selectedCategory: {\n      get() {\n        return this.$route.query.category || 'product';\n      },\n      set(value) {\n        this.$router.replace({ query: { category: value } });\n      }\n    },\n    filteredWorks() {\n      return this.works.filter(work => work.categories.includes(this.selectedCategory));\n    }\n  },\n  methods: {\n    async initLightbox() {\n      // 既存のインスタンスを破棄\n      if (this.lightbox) {\n        this.lightbox.destroy();\n      }\n\n      // GLightboxのCSSを追加\n      if (!document.querySelector('link[href*=\"glightbox\"]')) {\n        const link = document.createElement('link');\n        link.rel = 'stylesheet';\n        link.href = 'https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css';\n        document.head.appendChild(link);\n      }\n\n      // GLightboxのJSを読み込み\n      if (!window.GLightbox) {\n        await new Promise((resolve) => {\n          const script = document.createElement('script');\n          script.src = 'https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js';\n          script.onload = resolve;\n          document.head.appendChild(script);\n        });\n      }\n\n      // 初期化\n      await new Promise((resolve) => {\n        setTimeout(() => {\n          this.lightbox = window.GLightbox({\n            selector: '.glightbox',\n            touchNavigation: true,\n            loop: true,\n            width: '90vw',\n            height: '90vh',\n            zoomable: false,\n            draggable: false,\n            autoplayVideos: true,\n            closeButton: true,\n            navigation: true,\n            preload: true\n          });\n          resolve();\n        }, 100);\n      });\n    }\n  },\n  async mounted() {\n    await this.$nextTick();\n    await this.initLightbox();\n  },\n  async activated() {\n    await this.$nextTick();\n    await this.initLightbox();\n  },\n  beforeUnmount() {\n    if (this.lightbox) {\n      this.lightbox.destroy();\n      this.lightbox = null;\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n/* 暗い背景のとき */\n:root[data-theme=\"dark\"] .container .category-selecter button.active {\n  background-color: #ffffff !important;\n  color: #333333;\n}\n.category-selecter {\n  margin-bottom: 30px;\n  width: 100%;\n  display: flex;\n  justify-content: start;\n  text-align: center;\n  padding: 100px 0 0px;\n  flex-wrap: wrap;\n\n\n  button {\n    padding: 4px 16px;\n    border: none;\n    border-radius: 0px;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    background: none;\n    letter-spacing: 0.15rem;\n    color: var(--font-black);\n    &:hover {\n      background: var(--img-gray);\n    }\n  }\n\n  button.active {\n    background: var(--font-black);\n    /* font-weight: 400; */\n    color: #ffffff;\n  }\n}\n\n\n#grid {\n  width: 100%;\n  margin: 0 auto;\n  font-size: 0; /* インラインブロック間の隙間を消す */\n\n  .grid-sizer,\n  .grid-item {\n    width: calc(50% - 10px); /* 横の余白を調整 */\n  }\n\n  .gutter-sizer {\n    width: 20px; /* 横の余白を調整 */\n  }\n\n  .grid-item {\n    margin-bottom: 20px; /* 縦の余白を少し減らす */\n    display: inline-block;\n    font-size: 16px; /* フォントサイズを戻す */\n    vertical-align: top; /* 上端揃えにする */\n    transition: all 0.3s ease;\n\n  }\n\n  .grid-item img {\n    width: 100%;\n    height: auto;\n    display: block; /* 画像下部の余白を消す */\n    border: var(--img-gray) 1px solid;\n  }\n}\n\n@media screen and (max-width: 768px) {\n  .gallery-container {\n    padding: 10px;\n    padding-top: 80px; /* タイトルの高さ分の余白を維持 */\n  }\n\n  #grid {\n    .grid-sizer,\n    .grid-item {\n      width: 100%;\n      margin-bottom: 15px;\n    }\n\n    .gutter-sizer {\n      width: 0;\n    }\n  }\n}\n</style>"],"mappings":";;;;;;;;;;;AAqCA,OAAOA,QAAO,MAAO,uBAAuB;AAC5C,OAAOC,SAAQ,MAAO,wBAAwB;AAC9C,SAASC,KAAI,QAAS,cAAc;AACpC,SAASC,YAAW,QAAS,6BAA6B;AAE1D,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,UAAU,EAAE;IACVL,QAAQ,EAARA,QAAQ;IACRC,SAAQ,EAARA;EACF,CAAC;EACDK,MAAM,EAAE,CAACH,YAAY,CAAC;EACtBI,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE,CACV;QAAEC,KAAK,EAAE,SAAS;QAAEC,KAAK,EAAE;MAAU,CAAC,EACtC;QAAED,KAAK,EAAE,QAAQ;QAAEC,KAAK,EAAE;MAAS,CAAC,EACpC;QAAED,KAAK,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAO,CAAC,EAChC;QAAED,KAAK,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAQ,CAAC,EAClC;QAAED,KAAK,EAAE,UAAU;QAAEC,KAAK,EAAE;MAAW,CAAC,EACxC;QAAED,KAAK,EAAE,SAAS;QAAEC,KAAK,EAAE;MAAU,CAAC,EACtC;QAAED,KAAK,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAM,CAAC,EAC9B;QAAED,KAAK,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAQ,EAClC;MACDR,KAAK,EAALA,KAAK;MACLS,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,gBAAgB,EAAE;MAChBC,GAAG,WAAHA,GAAGA,CAAA,EAAG;QACJ,OAAO,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,QAAO,IAAK,SAAS;MAChD,CAAC;MACDC,GAAG,WAAHA,GAAGA,CAACT,KAAK,EAAE;QACT,IAAI,CAACU,OAAO,CAACC,OAAO,CAAC;UAAEJ,KAAK,EAAE;YAAEC,QAAQ,EAAER;UAAM;QAAE,CAAC,CAAC;MACtD;IACF,CAAC;IACDY,aAAa,WAAbA,aAAaA,CAAA,EAAG;MAAA,IAAAC,KAAA;MACd,OAAO,IAAI,CAACpB,KAAK,CAACqB,MAAM,CAAC,UAAAC,IAAG;QAAA,OAAKA,IAAI,CAAChB,UAAU,CAACiB,QAAQ,CAACH,KAAI,CAACT,gBAAgB,CAAC;MAAA,EAAC;IACnF;EACF,CAAC;EACDa,OAAO,EAAE;IACDC,YAAY,WAAZA,YAAYA,CAAA,EAAG;MAAA,IAAAC,MAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,IAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACnB;cACA,IAAIV,MAAI,CAACjB,QAAQ,EAAE;gBACjBiB,MAAI,CAACjB,QAAQ,CAAC4B,OAAO,CAAC,CAAC;cACzB;;cAEA;cACA,IAAI,CAACC,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC,EAAE;gBAChDR,IAAG,GAAIO,QAAQ,CAACE,aAAa,CAAC,MAAM,CAAC;gBAC3CT,IAAI,CAACU,GAAE,GAAI,YAAY;gBACvBV,IAAI,CAACW,IAAG,GAAI,mEAAmE;gBAC/EJ,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACb,IAAI,CAAC;cACjC;;cAEA;cAAA,IACKc,MAAM,CAACC,SAAS;gBAAAZ,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACb,IAAIW,OAAO,CAAC,UAACC,OAAO,EAAK;gBAC7B,IAAMC,MAAK,GAAIX,QAAQ,CAACE,aAAa,CAAC,QAAQ,CAAC;gBAC/CS,MAAM,CAACC,GAAE,GAAI,iEAAiE;gBAC9ED,MAAM,CAACE,MAAK,GAAIH,OAAO;gBACvBV,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACK,MAAM,CAAC;cACnC,CAAC,CAAC;YAAA;cAAAf,QAAA,CAAAE,IAAA;cAAA,OAIE,IAAIW,OAAO,CAAC,UAACC,OAAO,EAAK;gBAC7BI,UAAU,CAAC,YAAM;kBACf1B,MAAI,CAACjB,QAAO,GAAIoC,MAAM,CAACC,SAAS,CAAC;oBAC/BO,QAAQ,EAAE,YAAY;oBACtBC,eAAe,EAAE,IAAI;oBACrBC,IAAI,EAAE,IAAI;oBACVC,KAAK,EAAE,MAAM;oBACbC,MAAM,EAAE,MAAM;oBACdC,QAAQ,EAAE,KAAK;oBACfC,SAAS,EAAE,KAAK;oBAChBC,cAAc,EAAE,IAAI;oBACpBC,WAAW,EAAE,IAAI;oBACjBC,UAAU,EAAE,IAAI;oBAChBC,OAAO,EAAE;kBACX,CAAC,CAAC;kBACFf,OAAO,CAAC,CAAC;gBACX,CAAC,EAAE,GAAG,CAAC;cACT,CAAC,CAAC;YAAA;YAAA;cAAA,OAAAd,QAAA,CAAA8B,IAAA;UAAA;QAAA,GAAAlC,OAAA;MAAA;IACJ;EACF,CAAC;EACKmC,OAAO,WAAPA,OAAOA,CAAA,EAAG;IAAA,IAAAC,MAAA;IAAA,OAAAvC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAsC,SAAA;MAAA,OAAAvC,mBAAA,GAAAI,IAAA,UAAAoC,UAAAC,SAAA;QAAA,kBAAAA,SAAA,CAAAlC,IAAA,GAAAkC,SAAA,CAAAjC,IAAA;UAAA;YAAAiC,SAAA,CAAAjC,IAAA;YAAA,OACR8B,MAAI,CAACI,SAAS,CAAC,CAAC;UAAA;YAAAD,SAAA,CAAAjC,IAAA;YAAA,OAChB8B,MAAI,CAACzC,YAAY,CAAC,CAAC;UAAA;UAAA;YAAA,OAAA4C,SAAA,CAAAL,IAAA;QAAA;MAAA,GAAAG,QAAA;IAAA;EAC3B,CAAC;EACKI,SAAS,WAATA,SAASA,CAAA,EAAG;IAAA,IAAAC,MAAA;IAAA,OAAA7C,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAA4C,SAAA;MAAA,OAAA7C,mBAAA,GAAAI,IAAA,UAAA0C,UAAAC,SAAA;QAAA,kBAAAA,SAAA,CAAAxC,IAAA,GAAAwC,SAAA,CAAAvC,IAAA;UAAA;YAAAuC,SAAA,CAAAvC,IAAA;YAAA,OACVoC,MAAI,CAACF,SAAS,CAAC,CAAC;UAAA;YAAAK,SAAA,CAAAvC,IAAA;YAAA,OAChBoC,MAAI,CAAC/C,YAAY,CAAC,CAAC;UAAA;UAAA;YAAA,OAAAkD,SAAA,CAAAX,IAAA;QAAA;MAAA,GAAAS,QAAA;IAAA;EAC3B,CAAC;EACDG,aAAa,WAAbA,aAAaA,CAAA,EAAG;IACd,IAAI,IAAI,CAACnE,QAAQ,EAAE;MACjB,IAAI,CAACA,QAAQ,CAAC4B,OAAO,CAAC,CAAC;MACvB,IAAI,CAAC5B,QAAO,GAAI,IAAI;IACtB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}