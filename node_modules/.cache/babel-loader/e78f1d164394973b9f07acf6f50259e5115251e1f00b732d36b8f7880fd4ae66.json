{"ast":null,"code":"/* global Masonry, imagesLoaded */\n\nexport function initMasonry(gridElement) {\n  if (!gridElement) return;\n  var masonry = new Masonry(gridElement, {\n    percentPosition: true,\n    columnWidth: '.grid-sizer',\n    itemSelector: '.grid-item',\n    gutter: '.gutter-sizer'\n  });\n\n  // 画像が読み込まれた後にレイアウトを更新\n  imagesLoaded(gridElement).progress(function () {\n    masonry.layout();\n  });\n  return masonry;\n}\n\n// Vueミックスイン\nexport var masonryMixin = {\n  mounted: function mounted() {\n    var _this = this;\n    this.$nextTick(function () {\n      var grid = _this.$el.querySelector('.grid');\n      if (grid) {\n        _this.masonry = initMasonry(grid);\n      }\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n    this.$nextTick(function () {\n      if (_this2.masonry) {\n        _this2.masonry.layout();\n      }\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.masonry) {\n      this.masonry.destroy();\n    }\n  }\n};","map":{"version":3,"names":["initMasonry","gridElement","masonry","Masonry","percentPosition","columnWidth","itemSelector","gutter","imagesLoaded","progress","layout","masonryMixin","mounted","_this","$nextTick","grid","$el","querySelector","updated","_this2","beforeDestroy","destroy"],"sources":["/Users/yusui/GitHub/Mono/site/src/assets/scripts/masonry.js"],"sourcesContent":["/* global Masonry, imagesLoaded */\n\nexport function initMasonry(gridElement) {\n  if (!gridElement) return;\n\n  const masonry = new Masonry(gridElement, {\n    percentPosition: true,\n    columnWidth: '.grid-sizer',\n    itemSelector: '.grid-item',\n    gutter: '.gutter-sizer'\n  });\n\n  // 画像が読み込まれた後にレイアウトを更新\n  imagesLoaded(gridElement).progress(() => {\n    masonry.layout();\n  });\n\n  return masonry;\n}\n\n// Vueミックスイン\nexport const masonryMixin = {\n  mounted() {\n    this.$nextTick(() => {\n      const grid = this.$el.querySelector('.grid');\n      if (grid) {\n        this.masonry = initMasonry(grid);\n      }\n    });\n  },\n  \n  updated() {\n    this.$nextTick(() => {\n      if (this.masonry) {\n        this.masonry.layout();\n      }\n    });\n  },\n\n  beforeDestroy() {\n    if (this.masonry) {\n      this.masonry.destroy();\n    }\n  }\n};"],"mappings":"AAAA;;AAEA,OAAO,SAASA,WAAWA,CAACC,WAAW,EAAE;EACvC,IAAI,CAACA,WAAW,EAAE;EAElB,IAAMC,OAAO,GAAG,IAAIC,OAAO,CAACF,WAAW,EAAE;IACvCG,eAAe,EAAE,IAAI;IACrBC,WAAW,EAAE,aAAa;IAC1BC,YAAY,EAAE,YAAY;IAC1BC,MAAM,EAAE;EACV,CAAC,CAAC;;EAEF;EACAC,YAAY,CAACP,WAAW,CAAC,CAACQ,QAAQ,CAAC,YAAM;IACvCP,OAAO,CAACQ,MAAM,CAAC,CAAC;EAClB,CAAC,CAAC;EAEF,OAAOR,OAAO;AAChB;;AAEA;AACA,OAAO,IAAMS,YAAY,GAAG;EAC1BC,OAAO,WAAPA,OAAOA,CAAA,EAAG;IAAA,IAAAC,KAAA;IACR,IAAI,CAACC,SAAS,CAAC,YAAM;MACnB,IAAMC,IAAI,GAAGF,KAAI,CAACG,GAAG,CAACC,aAAa,CAAC,OAAO,CAAC;MAC5C,IAAIF,IAAI,EAAE;QACRF,KAAI,CAACX,OAAO,GAAGF,WAAW,CAACe,IAAI,CAAC;MAClC;IACF,CAAC,CAAC;EACJ,CAAC;EAEDG,OAAO,WAAPA,OAAOA,CAAA,EAAG;IAAA,IAAAC,MAAA;IACR,IAAI,CAACL,SAAS,CAAC,YAAM;MACnB,IAAIK,MAAI,CAACjB,OAAO,EAAE;QAChBiB,MAAI,CAACjB,OAAO,CAACQ,MAAM,CAAC,CAAC;MACvB;IACF,CAAC,CAAC;EACJ,CAAC;EAEDU,aAAa,WAAbA,aAAaA,CAAA,EAAG;IACd,IAAI,IAAI,CAAClB,OAAO,EAAE;MAChB,IAAI,CAACA,OAAO,CAACmB,OAAO,CAAC,CAAC;IACxB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}